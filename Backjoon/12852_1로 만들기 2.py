# ë™ì  ê³„íšë²•ê³¼ ìµœë‹¨ê±°ë¦¬ ì—­ì¶”ì 

# 1463_1ë¡œ ë§Œë“¤ê¸°ì™€ ê°™ì€ ë¬¸ì œ + ê²½ë¡œë¥¼ ë”°ë¡œ ì €ì¥í•´ì•¼í•œë‹¤.
# ì°¸ê³ ğŸ‘‰ https://honggom.tistory.com/146


# ë©”ëª¨ë¦¬: 78492KB / ì‹œê°„: 280ms

def make_one(n):
    dp = [0] * (n+1)
    path = [0] * (n+1)

    for i in range(2, n+1):
        dp[i] = dp[i-1] + 1  # 1ì„ ë¹¼ëŠ” ê²½ìš°
        path[i] = i - 1

        if i % 2 == 0 and dp[i] > dp[i // 2] + 1:  # 2ë¡œ ë‚˜ëˆ ì§ˆë•Œ, 1ì„ ëº€ ê²½ìš°ë³´ë‹¤ 2ë¡œ ë‚˜ëˆŒë•Œ ì—°ì‚°íšŸìˆ˜ê°€ ë” ì ë‹¤ë©´
            dp[i] = dp[i // 2] + 1
            path[i] = i // 2  # pathì—ëŠ” 2ë¡œ ë‚˜ëˆˆ ê°’ì„ ì €ì¥
        if i % 3 == 0 and dp[i] > dp[i // 3] + 1:  # 3ìœ¼ë¡œ ë‚˜ëˆ ì§ˆë•Œ, ìœ„ì™€ ê°™ìŒ.
            dp[i] = dp[i // 3] + 1
            path[i] = i // 3
    
    ret = [n]  # në¶€í„° ê±°ê¾¸ë¡œ ì¶œë ¥í•´ì•¼í•˜ë¯€ë¡œ nì„ ë¯¸ë¦¬ ì €ì¥í•œë‹¤.
    while n != 1:
        n = path[n]  # path[n]ì˜ ê°’ì„ ìƒˆë¡œìš´ nìœ¼ë¡œ ì¬í• ë‹¹í•œë’¤ retì— ì¶”ê°€í•œë‹¤.
        ret.append(n)
    
    return dp[-1], ret


N = int(input())

dp_ret, path_lst = make_one(N)

print(dp_ret)
print(*path_lst)